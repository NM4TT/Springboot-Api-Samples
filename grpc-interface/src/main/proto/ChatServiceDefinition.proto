syntax = "proto3";

package com.nmatute.interface;

option java_multiple_files = true; 
option java_package = "com.faxterol.grpcdemo.interfaces"; 

//Proto autogenerated classname
option java_outer_classname = "ChatServiceProto"; 

service ChatService {
    //Unary Communication
    rpc enviarMensaje (SendMessage) returns (ReceiveMessage) {}
    //Unidirectional Stream client -> server
    rpc enviarMultiplesMensajes (stream SendMessage) returns (ReceiveMessage) {}
    //Unidirectional Stream server -> client
    rpc recibirMultiplesRespuestas (SendMessage) returns (stream ReceiveMessage) {}
    //Bidirectional Stream
    rpc enviarRecibirMultiplesMensajes (stream SendMessage) returns (stream ReceiveMessage) {}
}

message SendMessage {
    uint32 to = 1;
    string message = 2;
}

message ReceiveMessage {
    uint32 from = 1;
    string message = 2;
}
